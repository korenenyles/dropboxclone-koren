<!DOCTYPE html>
    {% load static %}
<head>
    <title>Dropbox Clone</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/landingpage.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/navbar.css' %}">
    
</head>
<body>
    <div class="main">
        <div class="page-header">
            <h1>DropBox Clone </h1>
        </div>
        <div class="topnav">
            <a href={%url "landingpage"%}>Home</a>
            <a href={% url "filelist"%}>My Files</a>
            <a href="/userpage/{{request.user.id}}">Account</a>
            {%if user.is_authenticated%}
            <a href={%url "logout"%}>Logout</a>
            {% else %}
            <a href={% url "signuppage"%}>Sign Up</a>
            {% endif %}
        </div> 
        <div class="main-body">
            <div class="content">
                <h1>My Files:</h1>
            

{% if user.is_authenticated %}
{% load mptt_tags %}
    {% recursetree files %}
        
        {% if node.uploaded_file %}
            <a href="/files/{{node.uploaded_file}}"><div>&#128240;{{ node.filename }}</div></a> 
            <a href="/file/edit/{{node.pk}}"><button>&#9998;Edit</button></a> 
            <a href="/file/delete/{{node.id}}"><button>&#128465;Delete</button></a>
        {% else %}
        <div>&#128193;{{ node.filename }} </div> 
        <a href="/file/edit/{{node.pk}}"><button>&#9998;Edit</button></a>
        <a href="/file/delete/{{node.id}}"><button>&#128465;Delete</button></a>
        {% endif %}
            {% if not node.is_leaf_node %}
                <ul class="children">
                    {{ children }}
                </ul>
            {% endif %}
        
    {% endrecursetree %}

<br>
<br>
{% endif %}

<br>
<br>
<a href="{% url 'file-add'%}"><button>Add A File</button></a>
<a href="{% url 'folder-add'%}"><button>Create A Folder</button></a>
    </div>
    </div>
    </div>
    
</body>
</html>